<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Auto Typer</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 14px; }
      .row { margin-bottom: 10px; }
      textarea { width: 360px; height: 160px; resize: vertical; }
      label { display: block; font-size: 12px; opacity: .8; margin-bottom: 4px; }
      input[type="number"]{ width: 90px; }
      .btn { padding: 8px 12px; border: 0; border-radius: 10px; cursor: pointer; }
      .primary { background: #111827; color: white; }
      .secondary { background: #e5e7eb; }
      .row.inline > * { display: inline-block; vertical-align: middle; margin-right: 10px; }
      .hint { font-size: 12px; color: #6b7280; }
    </style>
  </head>
  <body>
    <div class="row">
      <label for="text">Paragraph to type</label>
      <textarea id="text" placeholder="Paste or type anything here..."></textarea>
    </div>
    <div class="row inline">
      <div>
        <label for="minDelay">Min delay (ms/char)</label>
        <input id="minDelay" type="number" min="0" value="20"/>
      </div>
      <div>
        <label for="maxDelay">Max delay (ms/char)</label>
        <input id="maxDelay" type="number" min="1" value="120"/>
      </div>
      <div>
        <label for="mistakeRate">Mistake rate (%)</label>
        <input id="mistakeRate" type="number" min="0" max="25" value="2"/>
      </div>
    </div>
    <div class="row inline">
      <div>
        <input id="pressEnter" type="checkbox" checked/>
        <label for="pressEnter">Press Enter at the end</label>
      </div>
      <div>
        <input id="smartPunct" type="checkbox" checked/>
        <label for="smartPunct">Smart punctuation</label>
      </div>
    </div>
    <div class="row inline">
      <button id="start" class="btn primary">Start typing</button>
      <button id="stop" class="btn secondary">Stop</button>
    </div>
    <div class="hint">Tip: Focus the field where you want to type, then click "Start typing" or use Alt+Shift+T.</div>
    
    <div class="row" style="margin-top: 20px; border-top: 1px solid #e5e7eb; padding-top: 15px;">
      <label for="selector">CSS Selector (for targeting input or extracting text)</label>
      <input type="text" id="selector" placeholder="e.g., #myInput, .editable, [contenteditable]" style="width: 100%; padding: 8px; margin-bottom: 10px;" />
      <div style="display: flex; gap: 10px; margin-top: 10px;">
        <button id="startSelector" class="btn primary" style="flex: 1;">Type to Selector</button>
        <button id="extract" class="btn secondary" style="flex: 1;">Extract & Copy Text</button>
      </div>
      <div id="extractedText" style="margin-top: 10px; padding: 10px; background: #f3f4f6; border-radius: 6px; display: none;">
        <div style="font-weight: bold; margin-bottom: 5px;">Extracted Text:</div>
        <div id="extractedContent" style="max-height: 100px; overflow-y: auto; white-space: pre-wrap; font-size: 12px;"></div>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
